# AcmeShop Helm Values
# Transitioning to more secure configuration

replicaCount: 2

image:
  repository: ghcr.io/acme-shop/app
  tag: "1.0.0"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 80

# HTTP client configuration
# TODO(TEAM-INFRA): Enable TLS verification after certificate deployment
httpClient:
  insecureSkipTLSVerify: true
  timeout: 30s

# Security settings (partially configured)
securityContext:
  runAsNonRoot: true
  runAsUser: 1000

# Environment variables
env:
  - name: LOG_LEVEL
    value: "info"
  - name: ENABLE_DEBUG
    value: "false"
  - name: DATABASE_URL
    valueFrom:
      secretKeyRef:
        name: acme-shop-secrets
        key: database-url

# Legacy configuration for backwards compatibility
legacy:
  enabled: true
  httpClient:
    insecureSkipTLSVerify: true
