# TODO(TEAM-INFRA): De-duplicate with Helm ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: feature-flags
  namespace: tm-acme-shop
  labels:
    app.kubernetes.io/name: acme-shop
    app.kubernetes.io/component: config
data:
  # Feature flags controlling legacy vs modern behavior
  # TODO(TEAM-INFRA): Move to a dedicated feature-flag service
  ENABLE_LEGACY_AUTH: "true"
  ENABLE_V1_API: "true"
  ENABLE_LEGACY_PAYMENTS: "true"
  
  # Correlation ID settings
  # TODO(TEAM-API): Migrate from X-Legacy-User-Id to X-User-Id
  CORRELATION_ID_HEADER: "X-Acme-Request-ID"
  USE_LEGACY_USER_ID_HEADER: "true"
